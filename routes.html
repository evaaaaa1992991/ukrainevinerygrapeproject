<!doctype html>
<html lang="uk">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Винні маршрути — Виноробство України</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    body {

    background-image: url('маршруты фон.jpg') !important;
    
    background-size: cover !important;
    background-position: center !important;
    background-attachment: fixed !important;
    background-repeat: no-repeat !important;
    position: relative !important;
    min-height: 100vh;
    margin: 0 !important;
    padding: 0 !important;
}

body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100vw;
    height: 100vh;
    background: rgba(248, 245, 240, 0.15);
    backdrop-filter: blur(10px) !important;
    -webkit-backdrop-filter: blur(10px) !important;
    z-index: -1 !important;
}

.main-header-wrapper {
    background: var(--panel-light) !important;
    border-radius: var(--radius);
    padding: 25px 30px !important;
    margin: 0 0 25px 0 !important;
    border: 2px solid rgba(212, 165, 116, 0.4) !important;
    box-shadow: var(--shadow) !important;
    position: relative;
    z-index: 10;
}

.main-header-wrapper h1 {
    margin-bottom: 10px !important;
    border-bottom: none !important;
    padding-bottom: 0 !important;
}

.main-header-wrapper .subtitle {
    color: var(--text-medium);
    font-size: 1.1rem;
    margin: 0;
    line-height: 1.5;
}
    .route-card { position: relative; overflow: hidden; } 
    .route-image { width: 100%; height: 200px; object-fit: cover; border-radius: 12px 12px 0 0; }
    .route-duration {
      position: absolute;
      top: 15px;
      right: 15px;
      background: rgba(0,0,0,0.7);
      color: white;
      padding: 5px 10px;
      border-radius: 20px;
      font-size: 14px;
    }
    .route-price {
      color: var(--wine-gold);
      font-weight: bold;
      font-size: 18px;
      margin: 10px 0;
    }
    .route-features {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin: 15px 0;
    }
    .feature {
      background: rgba(212, 165, 116, 0.1);
      padding: 5px 10px;
      border-radius: 15px;
      font-size: 14px;
      color: var(--wine-brown);
      border: 1px solid rgba(212, 165, 116, 0.3);
    }
    .wishlist-btn {
      position: absolute;
      top: 15px;
      left: 15px;
      background: rgba(0,0,0,0.7);
      color: white;
      border: none;
      width: 36px;
      height: 36px;
      border-radius: 50%;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      transition: all 0.3s;
      z-index: 10;
    }
    .wishlist-btn.active {
      background: var(--wine-terracotta);
      color: #ff6b6b;
      transform: scale(1.1);
    }
    .wishlist-btn:hover {
      transform: scale(1.1);
      background: var(--wine-brown);
    }
    
    /* Сповіщення */
    .notification {
      position: fixed;
      top: 20px;
      right: 20px;
      padding: 15px 25px;
      border-radius: 8px;
      color: white;
      font-weight: 600;
      z-index: 1000;
      animation: slideIn 0.3s ease;
      max-width: 300px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.2);
      display: none;
    }
    
    .notification.success {
      background: linear-gradient(135deg, #27ae60, #2ecc71);
    }
    
    .notification.error {
      background: linear-gradient(135deg, #c0392b, #e74c3c);
    }
    
    .notification.info {
      background: linear-gradient(135deg, var(--wine-gold), var(--wine-terracotta));
    }
    
    @keyframes slideIn {
      from { transform: translateX(100%); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }
    
    @keyframes slideOut {
      from { transform: translateX(0); opacity: 1; }
      to { transform: translateX(100%); opacity: 0; }
    }
    
    /* Статистика */
    .wishlist-stats {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin: 30px 0;
    }
    
    .stat-card {
      background: var(--panel-light);
      padding: 25px;
      border-radius: var(--radius);
      text-align: center;
      border: 2px solid rgba(212, 165, 116, 0.3);
      transition: all 0.3s;
    }
    
    .stat-card:hover {
      border-color: var(--wine-gold);
      transform: translateY(-5px);
    }
    
    .stat-card i {
      font-size: 2.5rem;
      color: var(--wine-terracotta);
      margin-bottom: 15px;
    }
    
    .stat-card .number {
      font-size: 2rem;
      font-weight: bold;
      color: var(--wine-brown);
      display: block;
      margin-bottom: 5px;
    }
    
    .stat-card .label {
      color: var(--text-medium);
      font-size: 1.1rem;
    }
    
    /* Фільтри */
    .routes-filter {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      margin: 25px 0;
      padding: 20px;
      background: var(--panel-light);
      border-radius: var(--radius);
      border: 2px solid rgba(212, 165, 116, 0.3);
    }
    
    .filter-btn {
      padding: 10px 20px;
      background: white;
      border: 2px solid rgba(212, 165, 116, 0.5);
      border-radius: 25px;
      color: var(--text-medium);
      cursor: pointer;
      transition: all 0.3s;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .filter-btn.active {
      background: linear-gradient(135deg, var(--wine-gold), var(--wine-terracotta));
      color: white;
      border-color: var(--wine-terracotta);
    }
    
    .filter-btn:hover {
      background: rgba(212, 165, 116, 0.2);
      transform: translateY(-2px);
    }

    /* Додаткові стилі для форми бронювання */
    .booking-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.8);
      z-index: 1000;
      align-items: center;
      justify-content: center;
    }

    .booking-modal.active {
      display: flex;
    }

    .booking-form {
      background: var(--panel-light);
      padding: 30px;
      border-radius: 15px;
      width: 90%;
      max-width: 500px;
      max-height: 90vh;
      overflow-y: auto;
    }
  </style>
</head>
<body>
  <header>
    <div class="logo"><a href="index.html">Виноробство України</a></div>
    <nav>
            <a href="index.html">Головна</a>
            <a href="about.html">Про сайт</a>
            <a href="regions.html">Регіони</a>
            <a href="routes.html" class="active">Маршрути</a>
            <a href="map.html">Карта</a>
            <a href="grapes.html">Сорти</a>
            <a href="craft-wines.html">Крафтові вина</a>
            <a href="profile.html"><i class="fas fa-user-circle"></i> Кабінет</a>
    </nav>
  </header>

  <main class="container">
    <div class="main-header-wrapper">
    <h1><i class="fas fa-route"></i> Винні маршрути та тури України</h1>
    <p class="subtitle">Туристичні маршрути, за якими можна організувати чудовий виннний тур!. Додавайте бажані тури до "Бажаного".</p>
    </div>

    <!-- Сповіщення -->
    <div id="notification" class="notification"></div>

    <!-- Статистика бажаного -->
    <div class="wishlist-stats" id="wishlist-stats" style="display: none;">
      <div class="stat-card">
        <i class="fas fa-heart"></i>
        <span class="number" id="wishlist-count">0</span>
        <span class="label">Збережених турів</span>
      </div>
      <div class="stat-card">
        <i class="fas fa-map-marked-alt"></i>
        <span class="number" id="wishlist-regions">0</span>
        <span class="label">Регіонів</span>
      </div>
      <div class="stat-card">
        <i class="fas fa-coins"></i>
        <span class="number" id="wishlist-total">0 грн</span>
        <span class="label">Загальна вартість</span>
      </div>
      <div class="stat-card">
        <i class="fas fa-calendar-alt"></i>
        <span class="number" id="wishlist-days">0</span>
        <span class="label">Днів подорожей</span>
      </div>
    </div>

    <!-- Фільтри -->
    <div class="routes-filter">
      <div class="filter-btn active" data-filter="all">
        </i> Усі маршрути
      </div>
      <div class="filter-btn" data-filter="short">
        </i> Короткі (1-2 дні)
      </div>
      <div class="filter-btn" data-filter="medium">
        </i> Середні (3-4 дні)
      </div>
      <div class="filter-btn" data-filter="long">
        </i> Довгі (5+ днів)
      </div>
      <div class="filter-btn" data-filter="wishlist">
        <i class="fas fa-heart"></i> Моє бажане
      </div>
    </div>

    <div class="grid" style="margin-top:20px" id="routes-container">
      <!-- Тур 1 -->
      <div class="card route-card" data-id="1" data-duration="3" data-price="8500" data-region="Бессарабія">
        <button class="wishlist-btn" data-route="1"><i class="far fa-heart"></i></button>
        <img src="одес.jpg" alt="Одеса" class="route-image">
        <span class="route-duration">3 дні</span>
        <div class="route-details">
          <h3>Одеський винний тур "Шлях до моря"</h3>
          <p class="route-price">від 8 500 грн/особа</p>
          <p>Тур по найвідомішим винним маєткам Одещини: SHABO, Коблево, Beykush. Дегустації, екскурсії, відпочинок на Чорноморському узбережжі.</p>
          
          <div class="route-features">
            <span class="feature"><i class="fas fa-wine-glass-alt"></i> 10+ дегустацій</span>
            <span class="feature"><i class="fas fa-hotel"></i> Проживання</span>
            <span class="feature"><i class="fas fa-bus"></i> Трансфер</span>
            <span class="feature"><i class="fas fa-utensils"></i> Гастроужин</span>
          </div>
          
          <div style="display:flex;gap:10px;margin-top:15px">
            <a class="pill" href="map.html#route-odesa">Маршрут на карті</a>
            <a class="pill" href="#tour-odesa-details">Деталі туру</a>
            <a class="pill book-tour-btn" style="background:var(--wine-mid)" data-tour="1">Забронювати</a>
          </div>
        </div>
      </div>

      <!-- Тур 2 -->
      <div class="card route-card" data-id="2" data-duration="4" data-price="12000" data-region="Закарпаття">
        <button class="wishlist-btn" data-route="2"><i class="far fa-heart"></i></button>
        <img src="зак2.jpg" alt="Закарпаття" class="route-image">
        <span class="route-duration">4 дні</span>
        <div class="route-details">
          <h3>Закарпатська винна стежка</h3>
          <p class="route-price">від 12 000 грн/особа</p>
          <p>Подорож Карпатами: Chateau Chizay, виноробні Берегівського району, Мукачівський замок, термальні джерела. Сімейні виноробні та традиційна кухня.</p>
          
          <div class="route-features">
            <span class="feature"><i class="fas fa-mountain"></i> Карпати</span>
            <span class="feature"><i class="fas fa-wine-bottle"></i> Крафтові вина</span>
            <span class="feature"><i class="fas fa-hot-tub"></i> Термали</span>
            <span class="feature"><i class="fas fa-chess-rook"></i> Замки</span>
          </div>
          
          <div style="display:flex;gap:10px;margin-top:15px">
            <a class="pill" href="map.html#route-zakarpattya">Маршрут на карті</a>
            <a class="pill" href="#tour-zak-details">Деталі туру</a>
            <a class="pill book-tour-btn" style="background:var(--wine-mid)" data-tour="2">Забронювати</a>
          </div>
        </div>
      </div>

      <!-- Тур 3 -->
      <div class="card route-card" data-id="3" data-duration="2" data-price="5500" data-region="Поділля">
        <button class="wishlist-btn" data-route="3"><i class="far fa-heart"></i></button>
        <img src="под2.jpg" alt="Поділля" class="route-image">
        <span class="route-duration">2 дні</span>
        <div class="route-details">
          <h3>Подільський гастро-винний уїкенд</h3>
          <p class="route-price">від 5 500 грн/особа</p>
          <p>Короткий тур Вінниччиною та Хмельниччиною: виноробня Kalyus, дегустації локальних продуктів, відвідування фортець та печерних монастирів.</p>
          
          <div class="route-features">
            <span class="feature"><i class="fas fa-church"></i> Монастирі</span>
            <span class="feature"><i class="fas fa-cheese"></i> Сирна дегустація</span>
            <span class="feature"><i class="fas fa-walking"></i> Екскурсії</span>
            <span class="feature"><i class="fas fa-campground"></i> Агротуризм</span>
          </div>
          
          <div style="display:flex;gap:10px;margin-top:15px">
            <a class="pill" href="map.html#route-podillya">Маршрут на карті</a>
            <a class="pill" href="#tour-pod-details">Деталі туру</a>
            <a class="pill book-tour-btn" style="background:var(--wine-mid)" data-tour="3">Забронювати</a>
          </div>
        </div>
      </div>

      <!-- Тур 4 -->
      <div class="card route-card" data-id="4" data-duration="5" data-price="15000" data-region="Бессарабія">
        <button class="wishlist-btn" data-route="4"><i class="far fa-heart"></i></button>
        <img src="бес2.jpg" alt="Бессарабія" class="route-image">
        <span class="route-duration">5 днів</span>
        <div class="route-details">
          <h3>Бессарабське винне коло</h3>
          <p class="route-price">від 15 000 грн/особа</p>
          <p>Повноцінний тур Одещиною та Миколаївщиною: Шабо, Коблево, Бейкуш, Інкерман. Професійні дегустації, майстер-класи, відпочинок на морі.</p>
          
          <div class="route-features">
            <span class="feature"><i class="fas fa-graduation-cap"></i> Майстер-класи</span>
            <span class="feature"><i class="fas fa-umbrella-beach"></i> Пляж</span>
            <span class="feature"><i class="fas fa-wine-bottle"></i> 20+ вин</span>
            <span class="feature"><i class="fas fa-user-tie"></i> Сомельє</span>
          </div>
          
          <div style="display:flex;gap:10px;margin-top:15px">
            <a class="pill" href="map.html#route-bessarabia">Маршрут на карті</a>
            <a class="pill" href="#tour-bes-details">Деталі туру</a>
            <a class="pill book-tour-btn" style="background:var(--wine-mid)" data-tour="4">Забронювати</a>
          </div>
        </div>
      </div>

      <!-- Тур 5 -->
      <div class="card route-card" data-id="5" data-duration="3" data-price="7800" data-region="Західна Україна">
        <button class="wishlist-btn" data-route="5"><i class="far fa-heart"></i></button>
        <img src="льв.jpg" alt="Львівщина" class="route-image">
        <span class="route-duration">3 дні</span>
        <div class="route-details">
          <h3>Львівсько-винний експрес</h3>
          <p class="route-price">від 7 800 грн/особа</p>
          <p>Поєднання культурного туризму Львовом та відвідування винних маєтків Львівщини: Château Edem, крафтові виноробні, львівські кав'ярні.</p>
          
          <div class="route-features">
            <span class="feature"><i class="fas fa-city"></i> Львів</span>
            <span class="feature"><i class="fas fa-coffee"></i> Кав'ярні</span>
            <span class="feature"><i class="fas fa-theater-masks"></i> Культура</span>
            <span class="feature"><i class="fas fa-beer"></i> Крафтове пиво</span>
          </div>
          
          <div style="display:flex;gap:10px;margin-top:15px">
            <a class="pill" href="map.html#route-lviv">Маршрут на карті</a>
            <a class="pill" href="#tour-lviv-details">Деталі туру</a>
            <a class="pill book-tour-btn" style="background:var(--wine-mid)" data-tour="5">Забронювати</a>
          </div>
        </div>
      </div>

      <!-- Тур 6 -->
      <div class="card route-card" data-id="6" data-duration="1" data-price="2500" data-region="Центральна Україна">
        <button class="wishlist-btn" data-route="6"><i class="far fa-heart"></i></button>
        <img src="київ.jpg" alt="Київщина" class="route-image">
        <span class="route-duration">1 день</span>
        <div class="route-details">
          <h3>Винна дегустація під Києвом</h3>
          <p class="route-price">від 2 500 грн/особа</p>
          <p>Одноденний тур: виноробня Biologist Craft, екскурсія, дегустація 8 вин, обід з локальними продуктами. Ідеально для першого знайомства.</p>
          
          <div class="route-features">
            <span class="feature"><i class="fas fa-car"></i> Біля Києва</span>
            <span class="feature"><i class="fas fa-clock"></i> 8 годин</span>
            <span class="feature"><i class="fas fa-utensils"></i> Обід включено</span>
            <span class="feature"><i class="fas fa-wine-glass"></i> 8 вин</span>
          </div>
          
          <div style="display:flex;gap:10px;margin-top:15px">
            <a class="pill" href="map.html#route-kyiv">Маршрут на карті</a>
            <a class="pill" href="#tour-kyiv-details">Деталі туру</a>
            <a class="pill book-tour-btn" style="background:var(--wine-mid)" data-tour="6">Забронювати</a>
          </div>
        </div>
      </div>
    </div>

    <!-- Модальне вікно бронювання -->
    <div class="booking-modal" id="booking-modal">
      <div class="booking-form">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
          <h2 style="margin: 0; color: var(--wine-brown);">Бронювання туру</h2>
          <button class="close-booking" style="background: none; border: none; font-size: 24px; cursor: pointer; color: var(--wine-brown);">&times;</button>
        </div>
        
        <form id="tour-booking">
          <div style="margin-bottom:15px">
            <label style="color: var(--wine-brown); font-weight: 600;">Оберіть тур:</label>
            <select id="booking-tour-select" style="width:100%;padding:12px;border-radius:8px;background:white;border:2px solid rgba(212, 165, 116, 0.5);color:var(--text-dark);margin-top:8px;font-size:16px;">
              <option value="1">Одеський винний тур "Шлях до моря"</option>
              <option value="2">Закарпатська винна стежка</option>
              <option value="3">Подільський гастро-винний уїкенд</option>
              <option value="4">Бессарабське винне коло</option>
              <option value="5">Львівсько-винний експрес</option>
              <option value="6">Винна дегустація під Києвом</option>
            </select>
          </div>
          
          <div style="margin-bottom:15px">
            <label style="color: var(--wine-brown); font-weight: 600;">Дата початку:</label>
            <input type="date" id="booking-date" style="width:100%;padding:12px;border-radius:8px;background:white;border:2px solid rgba(212, 165, 116, 0.5);color:var(--text-dark);margin-top:8px;font-size:16px;">
          </div>
          
          <div style="margin-bottom:15px">
            <label style="color: var(--wine-brown); font-weight: 600;">Кількість осіб:</label>
            <input type="number" id="booking-people" min="1" max="10" value="2" style="width:100%;padding:12px;border-radius:8px;background:white;border:2px solid rgba(212, 165, 116, 0.5);color:var(--text-dark);margin-top:8px;font-size:16px;">
          </div>
          
          <div style="margin-bottom:15px">
            <label style="color: var(--wine-brown); font-weight: 600;">Ваше ім'я:</label>
            <input type="text" id="booking-name" required style="width:100%;padding:12px;border-radius:8px;background:white;border:2px solid rgba(212, 165, 116, 0.5);color:var(--text-dark);margin-top:8px;font-size:16px;">
          </div>
          
          <div style="margin-bottom:15px">
            <label style="color: var(--wine-brown); font-weight: 600;">Телефон:</label>
            <input type="tel" id="booking-phone" required style="width:100%;padding:12px;border-radius:8px;background:white;border:2px solid rgba(212, 165, 116, 0.5);color:var(--text-dark);margin-top:8px;font-size:16px;" placeholder="+380 XX XXX XX XX">
          </div>
          
          <div style="margin-bottom:15px">
            <label style="color: var(--wine-brown); font-weight: 600;">Email:</label>
            <input type="email" id="booking-email" required style="width:100%;padding:12px;border-radius:8px;background:white;border:2px solid rgba(212, 165, 116, 0.5);color:var(--text-dark);margin-top:8px;font-size:16px;" placeholder="ваша@пошта.укр">
          </div>
          
          <div style="margin-bottom:20px; padding:15px; background: rgba(212, 165, 116, 0.1); border-radius:8px;">
            <label style="color: var(--wine-brown); font-weight: 600; display: flex; align-items: center; gap: 10px;">
              <input type="checkbox" id="booking-terms" required style="width: 18px; height: 18px;">
              Я погоджуюсь з обробкою персональних даних та умовами бронювання
            </label>
          </div>
          
          <button type="submit" style="width:100%;padding:15px;background:linear-gradient(135deg, var(--wine-gold), var(--wine-terracotta));color:white;border:none;border-radius:8px;font-weight:bold;cursor:pointer;font-size:16px;transition:all 0.3s;">
            <i class="fas fa-paper-plane"></i> Надіслати заявку на бронювання
          </button>
          
          <p style="text-align:center; margin-top:15px; color:var(--text-medium); font-size:14px;">
            Наш менеджер зв'яжеться з вами протягом 24 годин для підтвердження бронювання
          </p>
        </form>
      </div>
    </div>

    <!-- Детальна інформація про тури -->
    <div id="tour-odesa-details" class="modal">
      <div class="box card">
        <a class="close" href="#">&times;</a>
        <h2>Детальний опис туру "Одеський винний тур"</h2>
        
        <h3>Програма туру</h3>
        <div class="itinerary">
          <div class="day">
            <h4>День 1: Прибуття в Одесу</h4>
            <p>14:00 - Заселення в готель "Чорне море"<br>
            15:30 - Обід у ресторані "Французький бульвар"<br>
            17:00 - Екскурсія Одесою: Потьомкінські сходи, Оперний театр<br>
            19:30 - Вечеря з дегустацією одеських вин</p>
          </div>
          <div class="day">
            <h4>День 2: Винні маєтки</h4>
            <p>09:00 - Сніданок, виїзд до SHABO<br>
            10:30 - Екскурсія по виноробні SHABO, дегустація 6 вин<br>
            13:00 - Обід на території комплексу<br>
            15:00 - Переїзд до Beykush Winery<br>
            16:30 - Дегустація крафтових вин, майстер-клас від сомельє<br>
            19:00 - Повернення в Одесу, вільний час</p>
          </div>
          <div class="day">
            <h4>День 3: Коблево та від'їзд</h4>
            <p>09:00 - Сніданок, виїзд до Коблево<br>
            10:30 - Екскурсія по виноробні "Коблево"<br>
            12:30 - Дегустація 8 вин, обід з морськими продуктами<br>
            15:00 - Відпочинок на пляжі<br>
            17:00 - Трансфер до Одеси, від'їзд</p>
          </div>
        </div>
        
        <h3>Що включено у вартість:</h3>
        <ul>
          <li>Проживання в готелі 2 ночі</li>
          <li>Харчування: 3 сніданки, 3 обіди, 2 вечері</li>
          <li>Трансфер за програмою</li>
          <li>Екскурсії та дегустації (понад 15 вин)</li>
          <li>Супровід гіда-сомельє</li>
          <li>Страхування</li>
        </ul>
        
        <h3>Як дістатися з Дніпра:</h3>
        <p><strong>Потягом:</strong> Дніпро → Одеса, нічний потяг (відправлення 21:30, прибуття 07:15)<br>
        <strong>Автомобілем:</strong> По трасі E584 (560 км, ~7 годин)<br>
        <strong>Автобусом:</strong> Щоденні рейси з автовокзалу (8 годин)</p>
      </div>
    </div>
        <!-- Детальна інформація про тур "Закарпатська винна стежка" -->
    <div id="tour-zak-details" class="modal">
      <div class="box card">
        <a class="close" href="#">&times;</a>
        <h2>Детальний опис туру «Закарпатська винна стежка»</h2>
        
        <h3>Програма туру</h3>
        <div class="itinerary">
          <div class="day">
            <h4>День 1: Ужгород — Берегове</h4>
            <p>13:00 — Прибуття в Ужгород, заселення в готель «Uzhhorod Hotel» або аналогічний<br>
            14:30 — Обід у ресторані закарпатської кухні<br>
            16:00 — Оглядова екскурсія Ужгородом: Ужгородський замок, історичний центр, набережна Ужа<br>
            18:30 — Переїзд до Берегового<br>
            19:30 — Вечеря та дегустація вин у сімейній виноробні Берегівського району<br>
            22:00 — Повернення до готелю, відпочинок</p>
          </div>
          <div class="day">
            <h4>День 2: Chateau Chizay та термальні джерела</h4>
            <p>08:30 — Сніданок<br>
            09:30 — Виїзд до виноробного комплексу Chateau Chizay<br>
            10:30 — Екскурсія по виробництву та виноградниках, дегустація 8 вин<br>
            13:30 — Обід у ресторані при виноробні<br>
            15:00 — Переїзд до термального комплексу «Косино»<br>
            15:30–18:30 — Відпочинок у термальних басейнах та саунах<br>
            20:00 — Повернення в Ужгород, вільний час</p>
          </div>
          <div class="day">
            <h4>День 3: Середнянські підвали — Мукачево — від'їзд</h4>
            <p>08:30 — Сніданок, виселення з готелю<br>
            09:30 — Переїзд до Середнянських винних підвалів<br>
            10:30 — Екскурсія історичними підвалами XVI століття, дегустація традиційних закарпатських вин<br>
            13:00 — Переїзд до Мукачевого<br>
            14:00 — Обід у ресторані міста<br>
            15:30 — Екскурсія Мукачівським замком «Паланок»<br>
            18:00 — Трансфер на вокзал Ужгорода або Мукачевого, від'їзд</p>
          </div>
        </div>
        
        <h3>Що включено у вартість:</h3>
        <ul>
          <li>Проживання в готелі 2 ночі</li>
          <li>Харчування за програмою: 2 сніданки, 3 обіди, 2 вечері</li>
          <li>Трансфери за маршрутом</li>
          <li>Екскурсійний супровід та вхідні квитки</li>
          <li>Дегустації понад 15 зразків вин</li>
          <li>Супровід гіда-сомельє</li>
          <li>Туристичне страхування</li>
        </ul>
        
        <h3>Як дістатися з Дніпра:</h3>
        <p><strong>Потягом:</strong> Дніпро — Ужгород або Мукачево з пересадкою у Львові або Києві<br>
        <strong>Автомобілем:</strong> Через Львів по трасах М30 та М06, орієнтовно 1100 км<br>
        <strong>Автобусом:</strong> Регулярними міжміськими рейсами до Ужгорода або Мукачевого</p>
      </div>
    </div>

    <!-- Детальна інформація про тур "Подільський гастро-винний уїкенд" -->
    <div id="tour-pod-details" class="modal">
      <div class="box card">
        <a class="close" href="#">&times;</a>
        <h2>Детальний опис туру «Подільський гастро-винний уїкенд»</h2>
        
        <h3>Програма туру</h3>
        <div class="itinerary">
          <div class="day">
            <h4>День 1: Вінниця — Калюс — Кам'янець-Подільський</h4>
            <p>07:00 — Виїзд з Вінниці<br>
            09:30 — Прибуття до села Калюс Хмельницької області<br>
            10:00 — Екскурсія на виноробню Kalyus Wine, знайомство з технологіями виробництва<br>
            11:00 — Дегустація авторських вин та локальних сирів і м'ясних делікатесів<br>
            13:00 — Переїзд до Кам'янця-Подільського<br>
            14:30 — Обід у ресторані подільської кухні<br>
            16:00 — Екскурсія Кам'янець-Подільською фортецею та Старим містом<br>
            19:00 — Заселення в готель у Кам'янці-Подільському<br>
            20:00 — Вечеря, вільний час</p>
          </div>
          <div class="day">
            <h4>День 2: Бакота — печерний монастир — від'їзд</h4>
            <p>08:30 — Сніданок, виселення з готелю<br>
            09:30 — Виїзд до Бакоти<br>
            11:00 — Відвідування Бакотського скельного монастиря, огляд Дністровського каньйону<br>
            13:30 — Пікнік або обід у локальному закладі з подільськими стравами<br>
            15:30 — Повернення до Вінниці<br>
            18:30 — Прибуття до Вінниці, завершення туру</p>
          </div>
        </div>
        
        <h3>Що включено у вартість:</h3>
        <ul>
          <li>Проживання в готелі 1 ніч</li>
          <li>Харчування за програмою: 1 сніданок, 2 обіди, 1 вечеря</li>
          <li>Усі трансфери за маршрутом</li>
          <li>Екскурсійний супровід</li>
          <li>Дегустація вин та локальних продуктів</li>
          <li>Вхідні квитки до туристичних об'єктів</li>
          <li>Туристичне страхування</li>
        </ul>
        
        <h3>Як дістатися:</h3>
        <p><strong>З Вінниці:</strong> Організований трансфер у межах туру<br>
        <strong>З інших міст:</strong> Потягом або автобусом до Вінниці, далі трансфер з групою</p>
      </div>
    </div>

    <!-- Детальна інформація про тур "Бессарабське винне коло" -->
    <div id="tour-bes-details" class="modal">
      <div class="box card">
        <a class="close" href="#">&times;</a>
        <h2>Детальний опис туру «Бессарабське винне коло»</h2>
        
        <h3>Програма туру</h3>
        <div class="itinerary">
          <div class="day">
            <h4>День 1: Одеса — Шабо</h4>
            <p>13:00 — Прибуття в Одесу, заселення в готель «Чорне море» або аналогічний<br>
            14:30 — Обід у ресторані одеської кухні<br>
            16:00 — Оглядова екскурсія Одесою: Потьомкінські сходи, Оперний театр, Французький бульвар<br>
            18:30 — Переїзд до села Шабо<br>
            19:30 — Вечеря та професійна дегустація вин у Центрі культури вина SHABO<br>
            22:00 — Повернення в готель, відпочинок</p>
          </div>
          <div class="day">
            <h4>День 2: Шабо — Бейкуш — Миколаїв</h4>
            <p>08:30 — Сніданок<br>
            09:30 — Виїзд до виноробні Beykush Winery (Миколаївська область)<br>
            12:00 — Екскурсія виноградниками та виробництвом<br>
            13:00 — Дегустація крафтових вин Beykush, майстер-клас від сомельє<br>
            15:00 — Обід у локальному ресторані<br>
            17:00 — Переїзд до Миколаєва, заселення в готель<br>
            19:00 — Вечеря, вільний час</p>
          </div>
          <div class="day">
            <h4>День 3: Коблево — море</h4>
            <p>08:30 — Сніданок<br>
            09:30 — Виїзд до виноробного комплексу «Коблево»<br>
            10:30 — Екскурсія по виробництву<br>
            12:30 — Дегустація 8 вин, обід з морськими продуктами<br>
            15:00 — Відпочинок на Чорноморському узбережжі<br>
            18:30 — Повернення в готель, вільний вечір</p>
          </div>
          <div class="day">
            <h4>День 4: Інкерман — від'їзд</h4>
            <p>07:00 — Ранній сніданок, виїзд<br>
            12:00 — Прибуття до виноробні «Інкерман» (Севастопольський виноробний регіон, дегустаційний комплекс)<br>
            12:30 — Екскурсія винними галереями та дегустація колекційних вин<br>
            15:00 — Обід<br>
            17:00 — Трансфер до Одеси, завершення туру та від'їзд</p>
          </div>
        </div>
        
        <h3>Що включено у вартість:</h3>
        <ul>
          <li>Проживання в готелях 3 ночі</li>
          <li>Харчування за програмою: 3 сніданки, 4 обіди, 3 вечері</li>
          <li>Усі трансфери за маршрутом</li>
          <li>Екскурсійний супровід</li>
          <li>Професійні дегустації понад 20 зразків вин</li>
          <li>Майстер-класи від сомельє</li>
          <li>Вхідні квитки за програмою</li>
          <li>Туристичне страхування</li>
        </ul>
        
        <h3>Як дістатися:</h3>
        <p><strong>До Одеси:</strong> Потягом, автобусом або автомобілем<br>
        <strong>Подальші переїзди:</strong> Організованим трансфером у межах туру</p>
      </div>
    </div>

    <!-- Детальна інформація про тур "Львівсько-винний експрес" -->
    <div id="tour-lviv-details" class="modal">
      <div class="box card">
        <a class="close" href="#">&times;</a>
        <h2>Детальний опис туру «Львівсько-винний експрес»</h2>
        
        <h3>Програма туру</h3>
        <div class="itinerary">
          <div class="day">
            <h4>День 1: Дніпро — Львів</h4>
            <p>21:30 — Виїзд з Дніпра нічним потягом<br>
            07:30 — Прибуття до Львова<br>
            08:30 — Сніданок у львівській кав'ярні<br>
            10:00 — Заселення в готель у центральній частині міста (залишення речей)<br>
            11:00 — Оглядова екскурсія Львовом: площа Ринок, Ратуша, Домініканський собор, Вірменський квартал<br>
            14:00 — Обід у ресторані галицької кухні<br>
            16:00 — Вільний час: кав'ярні, шоколадні майстерні, авторські крамниці<br>
            19:00 — Вечеря у ресторані з локальними винами<br>
            Ночівля у Львові</p>
          </div>
          <div class="day">
            <h4>День 2: Château Edem та виноробні Львівщини</h4>
            <p>08:30 — Сніданок<br>
            09:30 — Виїзд до виноробного маєтку Château Edem (Львівська область)<br>
            10:30 — Екскурсія виноградниками та виробництвом<br>
            11:30 — Професійна дегустація вин Château Edem з сомельє<br>
            13:30 — Обід у заміському ресторані<br>
            15:00 — Відвідування крафтової виноробні Львівщини, знайомство з авторськими винами<br>
            17:30 — Повернення до Львова<br>
            19:00 — Вільний вечір у місті, дегустація настоянок або вечірня прогулянка<br>
            Ночівля у Львові</p>
          </div>
          <div class="day">
            <h4>День 3: Львів — Дніпро</h4>
            <p>08:30 — Сніданок, виселення з готелю<br>
            10:00 — Вільний час для прогулянок або відвідування музеїв<br>
            13:00 — Обід<br>
            15:00 — Трансфер на залізничний вокзал<br>
            16:00 — Відправлення потягом до Дніпра<br>
            07:00 — Прибуття до Дніпра наступного дня</p>
          </div>
        </div>
        
        <h3>Що включено у вартість:</h3>
        <ul>
          <li>Проживання в готелі 2 ночі</li>
          <li>Харчування за програмою: 2 сніданки, 3 обіди, 2 вечері</li>
          <li>Усі трансфери за маршрутом</li>
          <li>Оглядова екскурсія Львовом</li>
          <li>Екскурсії та дегустації у виноробнях</li>
          <li>Супровід гіда-сомельє</li>
          <li>Туристичне страхування</li>
        </ul>
        
        <h3>Як дістатися з Дніпра:</h3>
        <p><strong>Потягом:</strong> Дніпро — Львів, нічний рейс в обидва боки<br>
        <strong>Автобусом або автомобілем:</strong> За бажанням туристів, з прибуттям до Львова у день початку туру</p>
      </div>
    </div>

    <!-- Детальна інформація про тур "Винна дегустація під Києвом" -->
    <div id="tour-kyiv-details" class="modal">
      <div class="box card">
        <a class="close" href="#">&times;</a>
        <h2>Детальний опис туру «Винна дегустація під Києвом»</h2>
        
        <h3>Програма туру</h3>
        <div class="itinerary">
          <div class="day">
            <h4>Одноденний тур: Дніпро — Київська область — Дніпро</h4>
            <p>05:30 — Виїзд з Дніпра нічним або ранковим потягом<br>
            11:00 — Прибуття до Києва<br>
            11:30 — Збір групи, виїзд організованим трансфером до виноробні Biologist Craft (Київська область)<br><br>
            
            12:30 — Прибуття на виноробню<br>
            12:45 — Екскурсія виноградниками та виробництвом Biologist Craft, знайомство з філософією крафтового виноробства<br>
            13:45 — Професійна дегустація 8 авторських вин з коментарями сомельє<br>
            15:00 — Обід з локальних продуктів: сири, м'ясні делікатеси, сезонні страви<br>
            16:30 — Вільний час на території виноробні, фотопауза<br><br>
            
            17:30 — Повернення до Києва<br>
            18:30 — Вільний час у місті або трансфер на вокзал<br>
            20:00 — Відправлення потягом до Дніпра<br>
            05:30 — Прибуття до Дніпра наступного дня</p>
          </div>
        </div>
        
        <h3>Що включено у вартість:</h3>
        <ul>
          <li>Організований трансфер Київ — виноробня — Київ</li>
          <li>Екскурсія по виноробні</li>
          <li>Дегустація 8 вин</li>
          <li>Обід з локальних продуктів</li>
          <li>Супровід гіда-сомельє</li>
          <li>Туристичне страхування</li>
        </ul>
        
        <h3>Як дістатися з Дніпра:</h3>
        <p><strong>Потягом:</strong> Дніпро — Київ (нічний або ранковий рейс)<br>
        <strong>Автобусом або автомобілем:</strong> За бажанням, з приєднанням до групи у Києві</p>
      </div>
    </div>

  </main>

  <footer>
    © 2025–2026 — Виноробство та винний туризм України • Випускна робота Гудим Єви Олександрівни
  </footer>

  <script>
    // ========== СИСТЕМА АВТЕНТИФІКАЦІЇ ТА БАЖАНОГО ==========
    
    // Функція для перевірки авторизації
    function isAuthenticated() {
      try {
        return localStorage.getItem('currentUser') !== null;
      } catch (error) {
        return false;
      }
    }
    
    // Функція для отримання поточного користувача
    function getCurrentUser() {
      try {
        return JSON.parse(localStorage.getItem('currentUser'));
      } catch (error) {
        return null;
      }
    }
    
    // Функція для отримання списку бажаного
    function getWishlist() {
      const user = getCurrentUser();
      return user ? (user.wishlist || []) : [];
    }
    
    // Функція для перевірки чи тур вже в бажаному
    function isInWishlist(tourId) {
      const wishlist = getWishlist();
      return wishlist.some(item => item.id === tourId);
    }
    
    // Функція для додавання туру до бажаного
    function addToWishlist(tourId, tourData) {
      if (!isAuthenticated()) {
        showNotification('Будь ласка, увійдіть в систему для додавання турів до бажаного', 'error');
        return false;
      }
      
      const users = JSON.parse(localStorage.getItem('wineTourismUsers')) || [];
      const currentUser = getCurrentUser();
      const userIndex = users.findIndex(user => user.id === currentUser.id);
      
      if (userIndex === -1) {
        showNotification('Помилка: користувача не знайдено', 'error');
        return false;
      }
      
      // Перевірка чи тур вже в бажаному
      if (isInWishlist(tourId)) {
        showNotification('Цей тур вже у вашому списку бажаного', 'info');
        return false;
      }
      
      // Додавання туру до бажаного
      users[userIndex].wishlist = users[userIndex].wishlist || [];
      users[userIndex].wishlist.push({
        id: tourId,
        ...tourData,
        addedAt: new Date().toISOString()
      });
      
      // Оновлення поточного користувача
      currentUser.wishlist = users[userIndex].wishlist;
      localStorage.setItem('currentUser', JSON.stringify(currentUser));
      localStorage.setItem('wineTourismUsers', JSON.stringify(users));
      
      showNotification('Тур додано до бажаного!', 'success');
      updateWishlistButtons();
      updateWishlistStats();
      
      return true;
    }
    
    // Функція для видалення туру з бажаного
    function removeFromWishlist(tourId) {
      if (!isAuthenticated()) {
        return false;
      }
      
      const users = JSON.parse(localStorage.getItem('wineTourismUsers')) || [];
      const currentUser = getCurrentUser();
      const userIndex = users.findIndex(user => user.id === currentUser.id);
      
      if (userIndex === -1) {
        return false;
      }
      
      // Видалення туру з бажаного
      users[userIndex].wishlist = users[userIndex].wishlist.filter(item => item.id !== tourId);
      
      // Оновлення поточного користувача
      currentUser.wishlist = users[userIndex].wishlist;
      localStorage.setItem('currentUser', JSON.stringify(currentUser));
      localStorage.setItem('wineTourismUsers', JSON.stringify(users));
      
      showNotification('Тур видалено з бажаного', 'success');
      updateWishlistButtons();
      updateWishlistStats();
      
      return true;
    }
    
    // Функція для оновлення кнопок "Бажане"
    function updateWishlistButtons() {
      const wishlistButtons = document.querySelectorAll('.wishlist-btn');
      wishlistButtons.forEach(btn => {
        const tourId = btn.getAttribute('data-route');
        const icon = btn.querySelector('i');
        
        if (isInWishlist(tourId)) {
          btn.classList.add('active');
          icon.className = 'fas fa-heart';
        } else {
          btn.classList.remove('active');
          icon.className = 'far fa-heart';
        }
      });
    }
    
    // Функція для оновлення статистики бажаного
    function updateWishlistStats() {
      const statsContainer = document.getElementById('wishlist-stats');
      const countElement = document.getElementById('wishlist-count');
      const regionsElement = document.getElementById('wishlist-regions');
      const totalElement = document.getElementById('wishlist-total');
      const daysElement = document.getElementById('wishlist-days');
      
      const wishlist = getWishlist();
      
      if (wishlist.length > 0 && isAuthenticated()) {
        statsContainer.style.display = 'grid';
        
        // Кількість турів
        countElement.textContent = wishlist.length;
        
        // Унікальні регіони
        const regions = new Set();
        wishlist.forEach(item => {
          const card = document.querySelector(`.route-card[data-id="${item.id}"]`);
          if (card) {
            regions.add(card.getAttribute('data-region'));
          }
        });
        regionsElement.textContent = regions.size;
        
        // Загальна вартість
        let totalPrice = 0;
        wishlist.forEach(item => {
          const card = document.querySelector(`.route-card[data-id="${item.id}"]`);
          if (card) {
            const price = parseInt(card.getAttribute('data-price')) || 0;
            totalPrice += price;
          }
        });
        totalElement.textContent = totalPrice.toLocaleString('uk-UA') + ' грн';
        
        // Загальна кількість днів
        let totalDays = 0;
        wishlist.forEach(item => {
          const card = document.querySelector(`.route-card[data-id="${item.id}"]`);
          if (card) {
            const days = parseInt(card.getAttribute('data-duration')) || 0;
            totalDays += days;
          }
        });
        daysElement.textContent = totalDays;
      } else {
        statsContainer.style.display = 'none';
      }
    }
    
    // Функція для фільтрації турів
    function filterTours(filter) {
      const routeCards = document.querySelectorAll('.route-card');
      const wishlist = getWishlist();
      const wishlistIds = wishlist.map(item => item.id);
      
      routeCards.forEach(card => {
        const tourId = card.getAttribute('data-id');
        const duration = parseInt(card.getAttribute('data-duration'));
        const isInWishlist = wishlistIds.includes(tourId);
        
        let showCard = true;
        
        switch(filter) {
          case 'short':
            showCard = duration <= 2;
            break;
          case 'medium':
            showCard = duration >= 3 && duration <= 4;
            break;
          case 'long':
            showCard = duration >= 5;
            break;
          case 'wishlist':
            showCard = isInWishlist && isAuthenticated();
            break;
          case 'all':
          default:
            showCard = true;
        }
        
        card.style.display = showCard ? 'flex' : 'none';
      });
    }
    
    // Функція для показу сповіщень
    function showNotification(message, type = 'info') {
      const notification = document.getElementById('notification');
      notification.textContent = message;
      notification.className = `notification ${type}`;
      notification.style.display = 'block';
      
      // Автоматично ховаємо сповіщення через 3 секунди
      setTimeout(() => {
        notification.style.animation = 'slideOut 0.3s ease';
        setTimeout(() => {
          notification.style.display = 'none';
          notification.style.animation = '';
        }, 300);
      }, 3000);
    }
    
    // Функція для бронювання туру
    function bookTour(tourId) {
      if (!isAuthenticated()) {
        showNotification('Будь ласка, увійдіть в систему для бронювання турів', 'error');
        setTimeout(() => {
          window.location.href = 'auth.html';
        }, 1500);
        return;
      }
      
      const currentUser = getCurrentUser();
      const bookingModal = document.getElementById('booking-modal');
      const bookingSelect = document.getElementById('booking-tour-select');
      const bookingName = document.getElementById('booking-name');
      const bookingEmail = document.getElementById('booking-email');
      
      // Заповнюємо форму даними
      if (bookingSelect) {
        bookingSelect.value = tourId;
      }
      
      if (currentUser && bookingName && bookingEmail) {
        bookingName.value = currentUser.name || '';
        bookingEmail.value = currentUser.email || '';
      }
      
      // Показуємо модальне вікно
      bookingModal.classList.add('active');
    }
    
    // ========== ДАНІ ПРО ТУРИ ==========
    const toursData = {
      '1': {
        title: 'Одеський винний тур "Шлях до моря"',
        image: 'одес.jpg',
        duration: '3 дні',
        price: 'від 8 500 грн/особа',
        priceNumber: 8500,
        description: 'Тур по найвідомішим винним маєткам Одещини: SHABO, Коблево, Beykush. Дегустації, екскурсії, відпочинок на Чорноморському узбережжі.',
        region: 'Бессарабія',
        season: 'Квітень-Жовтень'
      },
      '2': {
        title: 'Закарпатська винна стежка',
        image: 'зак2.jpg',
        duration: '4 дні',
        price: 'від 12 000 грн/особа',
        priceNumber: 12000,
        description: 'Подорож Карпатами: Chateau Chizay, виноробні Берегівського району, Мукачівський замок, термальні джерела. Сімейні виноробні та традиційна кухня.',
        region: 'Закарпаття',
        season: 'Травень-Вересень'
      },
      '3': {
        title: 'Подільський гастро-винний уїкенд',
        image: 'под2.jpg',
        duration: '2 дні',
        price: 'від 5 500 грн/особа',
        priceNumber: 5500,
        description: 'Короткий тур Вінниччиною та Хмельниччиною: виноробня Kalyus, дегустації локальних продуктів, відвідування фортець та печерних монастирів.',
        region: 'Поділля',
        season: 'Круглий рік'
      },
      '4': {
        title: 'Бессарабське винне коло',
        image: 'бес2.jpg',
        duration: '5 днів',
        price: 'від 15 000 грн/особа',
        priceNumber: 15000,
        description: 'Повноцінний тур Одещиною та Миколаївщиною: Шабо, Коблево, Бейкуш, Інкерман. Професійні дегустації, майстер-класи, відпочинок на морі.',
        region: 'Бессарабія',
        season: 'Травень-Жовтень'
      },
      '5': {
        title: 'Львівсько-винний експрес',
        image: 'льв.jpg',
        duration: '3 дні',
        price: 'від 7 800 грн/особа',
        priceNumber: 7800,
        description: 'Поєднання культурного туризму Львовом та відвідування винних маєтків Львівщини: Château Edem, крафтові виноробні, львівські кав\'ярні.',
        region: 'Західна Україна',
        season: 'Круглий рік'
      },
      '6': {
        title: 'Винна дегустація під Києвом',
        image: 'київ.jpg',
        duration: '1 день',
        price: 'від 2 500 грн/особа',
        priceNumber: 2500,
        description: 'Одноденний тур: виноробня Biologist Craft, екскурсія, дегустація 8 вин, обід з локальними продуктами. Ідеально для першого знайомства.',
        region: 'Центральна Україна',
        season: 'Квітень-Листопад'
      }
    };
    
    // ========== ІНІЦІАЛІЗАЦІЯ ПРИ ЗАВАНТАЖЕННІ СТОРІНКИ ==========
    document.addEventListener('DOMContentLoaded', function() {
      // Оновлюємо кнопки та статистику
      updateWishlistButtons();
      updateWishlistStats();
      
      // Додаємо повідомлення про необхідність авторизації
      if (!isAuthenticated()) {
        const routesContainer = document.getElementById('routes-container');
        const infoMessage = document.createElement('div');
        infoMessage.style.cssText = `
          grid-column: 1 / -1;
          background: var(--panel-light);
          padding: 20px;
          border-radius: var(--radius);
          text-align: center;
          margin-bottom: 20px;
          border: 2px dashed rgba(212, 165, 116, 0.5);
        `;
        infoMessage.innerHTML = `
          <p style="margin: 0; color: var(--text-medium);">
            <i class="fas fa-info-circle"></i> Для додавання турів до "Бажаного" необхідно 
            <a href="auth.html" style="color: var(--wine-terracotta); font-weight: 600;">увійти в систему</a> 
            або <a href="auth.html" style="color: var(--wine-terracotta); font-weight: 600;">зареєструватись</a>
          </p>
        `;
        
        if (routesContainer.firstChild) {
          routesContainer.insertBefore(infoMessage, routesContainer.firstChild);
        }
      }
      
      // Обробники кнопок "Бажане"
      document.querySelectorAll('.wishlist-btn').forEach(btn => {
        btn.addEventListener('click', function(e) {
          e.preventDefault();
          e.stopPropagation();
          
          const tourId = this.getAttribute('data-route');
          const card = this.closest('.route-card');
          const duration = card.getAttribute('data-duration');
          const price = card.getAttribute('data-price');
          const region = card.getAttribute('data-region');
          const title = card.querySelector('h3').textContent;
          const description = card.querySelector('p').textContent;
          
          const tourData = {
            title: title,
            image: card.querySelector('.route-image').src.split('/').pop(),
            duration: duration + ' днів',
            price: 'від ' + price + ' грн/особа',
            priceNumber: parseInt(price),
            description: description,
            region: region
          };
          
          if (isInWishlist(tourId)) {
            removeFromWishlist(tourId);
          } else {
            addToWishlist(tourId, tourData);
          }
        });
      });
      
      // Обробники фільтрів
      document.querySelectorAll('.filter-btn').forEach(btn => {
        btn.addEventListener('click', function() {
          // Видаляємо активний клас з усіх кнопок
          document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
          // Додаємо активний клас до натиснутої кнопки
          this.classList.add('active');
          
          const filter = this.getAttribute('data-filter');
          filterTours(filter);
        });
      });
      
      // Обробники кнопок бронювання
      document.querySelectorAll('.book-tour-btn').forEach(btn => {
        btn.addEventListener('click', function(e) {
          e.preventDefault();
          const tourId = this.getAttribute('data-tour');
          bookTour(tourId);
        });
      });
      
      // Закриття модального вікна бронювання
      document.querySelector('.close-booking').addEventListener('click', function() {
        document.getElementById('booking-modal').classList.remove('active');
      });
      
      // Закриття модального вікна при кліку на фон
      document.getElementById('booking-modal').addEventListener('click', function(e) {
        if (e.target === this) {
          this.classList.remove('active');
        }
      });
      
      // Обробка форми бронювання
      document.getElementById('tour-booking').addEventListener('submit', function(e) {
        e.preventDefault();
        
        const tourId = document.getElementById('booking-tour-select').value;
        const tourData = toursData[tourId];
        
        if (!isAuthenticated()) {
          showNotification('Будь ласка, увійдіть в систему для бронювання', 'error');
          return;
        }
        
        if (tourData) {
          // Зберігаємо бронювання
          const users = JSON.parse(localStorage.getItem('wineTourismUsers')) || [];
          const currentUser = getCurrentUser();
          const userIndex = users.findIndex(user => user.id === currentUser.id);
          
          if (userIndex !== -1) {
            users[userIndex].bookedTours = users[userIndex].bookedTours || [];
            users[userIndex].bookedTours.push({
              tourId: tourId,
              title: tourData.title,
              date: document.getElementById('booking-date').value,
              people: document.getElementById('booking-people').value,
              status: 'Очікує підтвердження',
              bookedAt: new Date().toISOString()
            });
            
            // Оновлюємо поточного користувача
            currentUser.bookedTours = users[userIndex].bookedTours;
            localStorage.setItem('currentUser', JSON.stringify(currentUser));
            localStorage.setItem('wineTourismUsers', JSON.stringify(users));
          }
          
          showNotification(`Заявка на бронювання туру "${tourData.title}" відправлена!`, 'success');
          
          // Очищаємо форму
          this.reset();
          
          // Закриваємо модальне вікно
          document.getElementById('booking-modal').classList.remove('active');
        }
      });
      
      // Додаємо обробники для детальних посилань
      document.querySelectorAll('a[href^="#tour-"]').forEach(link => {
        link.addEventListener('click', function(e) {
          e.preventDefault();
          const modalId = this.getAttribute('href');
          window.location.hash = modalId;
        });
      });
    });
  </script>
</body>

</html>



